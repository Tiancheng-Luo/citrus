<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang='en'>
  <head>
    <title>: Citrus::GrammarMethods [Citrus API Documentation]</title>
    <meta content='text/html; charset=utf8' http-equiv='Content-Type'>
    <link href='../../rdoc-style.css' media='screen' rel='stylesheet' type='text/css'>
    <script type='text/javascript'>
      //<![CDATA[
        function popupCode(url) {
          window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
        }
        
        function toggleCode(id) {
          var code = document.getElementById(id)
        
          code.style.display = code.style.display != 'block' ? 'block' : 'none'
          return true
        }
        
        // Make codeblocks hidden by default
        document.writeln('<' + 'style type="text/css">.method .source pre { display: none }<\/style>')
      //]]>
    </script>
  </head>
  <body class='page'>
    <div class='class' id='wrapper'>
      <div class='header'>
        <h1 class='name'>
          <span class='type'>Module</span>
          Citrus::GrammarMethods
        </h1>
        <ol class='paths'>
          <li>
            <a href="../../files/lib/citrus_rb.html">lib/citrus.rb</a>
          </li>
        </ol>
      </div>
      <div id='content'>
        <div id='text'>
          <div id='description'>
            <p>
            Contains methods that are available to <a href="Grammar.html">Grammar</a>
            modules at the class level.
            </p>
          </div>
          <div id='method-list'>
            <h2>Methods</h2>
            <h3>public instance</h3>
            <ol>
              <li><a href="#M000022">all</a></li>
              <li><a href="#M000015">andp</a></li>
              <li><a href="#M000023">any</a></li>
              <li><a href="#M000026">default_parse_options</a></li>
              <li><a href="#M000024">ext</a></li>
              <li><a href="#M000010">has_rule?</a></li>
              <li><a href="#M000007">included_grammars</a></li>
              <li><a href="#M000017">label</a></li>
              <li><a href="#M000006">name</a></li>
              <li><a href="#M000016">notp</a></li>
              <li><a href="#M000019">one_or_more</a></li>
              <li><a href="#M000025">parse</a></li>
              <li><a href="#M000018">rep</a></li>
              <li><a href="#M000013">root</a></li>
              <li><a href="#M000012">rule</a></li>
              <li><a href="#M000008">rule_names</a></li>
              <li><a href="#M000009">rules</a></li>
              <li><a href="#M000014">sup</a></li>
              <li><a href="#M000011">super_rule</a></li>
              <li><a href="#M000020">zero_or_more</a></li>
              <li><a href="#M000021">zero_or_one</a></li>
            </ol>
          </div>
          <div id='section'>
            <div id='methods'>
              <h2>Public instance methods</h2>
              <div class='method public-instance' id='method-M000022'>
                <a name='M000022'></a>
                <div class='synopsis'>
                  <span class='name'>all</span>
                  <span class='arguments'>(*args, &amp;block)</span>
                </div>
                <div class='description'>
                  <p>
                  Creates a new <a href="Sequence.html">Sequence</a> using all arguments. A
                  block may be provided to specify semantic behavior (via <a
                  href="GrammarMethods.html#M000024">ext</a>).
                  </p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000022-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000022-source'>     <span class="ruby-comment cmt"># File lib/citrus.rb, line 223</span>&#x000A;223:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">all</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)&#x000A;224:       <span class="ruby-identifier">ext</span>(<span class="ruby-constant">Sequence</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">args</span>), <span class="ruby-identifier">block</span>)&#x000A;225:     <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M000015'>
                <a name='M000015'></a>
                <div class='synopsis'>
                  <span class='name'>andp</span>
                  <span class='arguments'>(rule, &amp;block)</span>
                </div>
                <div class='description'>
                  <p>
                  Creates a new <a href="AndPredicate.html">AndPredicate</a> using the given
                  <tt>rule</tt>. A block may be provided to specify semantic behavior (via <a
                  href="GrammarMethods.html#M000024">ext</a>).
                  </p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000015-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000015-source'>     <span class="ruby-comment cmt"># File lib/citrus.rb, line 183</span>&#x000A;183:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">andp</span>(<span class="ruby-identifier">rule</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)&#x000A;184:       <span class="ruby-identifier">ext</span>(<span class="ruby-constant">AndPredicate</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">rule</span>), <span class="ruby-identifier">block</span>)&#x000A;185:     <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M000023'>
                <a name='M000023'></a>
                <div class='synopsis'>
                  <span class='name'>any</span>
                  <span class='arguments'>(*args, &amp;block)</span>
                </div>
                <div class='description'>
                  <p>
                  Creates a new <a href="Choice.html">Choice</a> using all arguments. A block
                  may be provided to specify semantic behavior (via <a
                  href="GrammarMethods.html#M000024">ext</a>).
                  </p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000023-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000023-source'>     <span class="ruby-comment cmt"># File lib/citrus.rb, line 229</span>&#x000A;229:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">any</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)&#x000A;230:       <span class="ruby-identifier">ext</span>(<span class="ruby-constant">Choice</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">args</span>), <span class="ruby-identifier">block</span>)&#x000A;231:     <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M000026'>
                <a name='M000026'></a>
                <div class='synopsis'>
                  <span class='name'>default_parse_options</span>
                  <span class='arguments'>()</span>
                </div>
                <div class='description'>
                  <p>
                  The default set of options that is used in <a
                  href="GrammarMethods.html#M000025">parse</a>. The options hash may have any
                  of the following keys:
                  </p>
                  <table>
                  <tr><td valign="top">offset:</td><td>The offset at which the parse should start. Defaults to 0.
                  
                  </td></tr>
                  <tr><td valign="top">root:</td><td>The name of the root rule to use for the parse. Defaults to the name
                  supplied by calling <a href="GrammarMethods.html#M000013">root</a>.
                  
                  </td></tr>
                  <tr><td valign="top">consume_all:</td><td>If this is <tt>true</tt> and the entire input string cannot be consumed, a
                  <a href="ParseError.html">ParseError</a> will be raised. Defaults to
                  <tt>true</tt>.
                  
                  </td></tr>
                  <tr><td valign="top">enable_memo:</td><td>If this is <tt>true</tt> the matches generated during a parse are memoized.
                  This technique (also known as Packrat parsing) guarantees parsers will
                  operate in linear time but costs significantly more in terms of time and
                  memory required. Defaults to <tt>false</tt>.
                  
                  </td></tr>
                  </table>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000026-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000026-source'>     <span class="ruby-comment cmt"># File lib/citrus.rb, line 277</span>&#x000A;277:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">default_parse_options</span>&#x000A;278:       { <span class="ruby-identifier">:offset</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">0</span>,&#x000A;279:         <span class="ruby-identifier">:root</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">root</span>,&#x000A;280:         <span class="ruby-identifier">:consume_all</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">true</span>,&#x000A;281:         <span class="ruby-identifier">:enable_memo</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">false</span>&#x000A;282:       }&#x000A;283:     <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M000024'>
                <a name='M000024'></a>
                <div class='synopsis'>
                  <span class='name'>ext</span>
                  <span class='arguments'>(rule, mod=nil)</span>
                </div>
                <div class='description'>
                  <p>
                  Specifies a Module that will be used to extend all matches created with the
                  given <tt>rule</tt>. A block may also be given that will be used to create
                  an anonymous module. See <a href="Rule.html#M000031">Rule#ext=</a>.
                  </p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000024-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000024-source'>     <span class="ruby-comment cmt"># File lib/citrus.rb, line 236</span>&#x000A;236:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">ext</span>(<span class="ruby-identifier">rule</span>, <span class="ruby-identifier">mod</span>=<span class="ruby-keyword kw">nil</span>)&#x000A;237:       <span class="ruby-identifier">rule</span> = <span class="ruby-constant">Rule</span>.<span class="ruby-identifier">create</span>(<span class="ruby-identifier">rule</span>)&#x000A;238:       <span class="ruby-identifier">mod</span> = <span class="ruby-constant">Proc</span>.<span class="ruby-identifier">new</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">block_given?</span>&#x000A;239:       <span class="ruby-identifier">rule</span>.<span class="ruby-identifier">ext</span> = <span class="ruby-identifier">mod</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">mod</span>&#x000A;240:       <span class="ruby-identifier">rule</span>&#x000A;241:     <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M000010'>
                <a name='M000010'></a>
                <div class='synopsis'>
                  <span class='name'>has_rule?</span>
                  <span class='arguments'>(name)</span>
                </div>
                <div class='description'>
                  <p>
                  Returns <tt>true</tt> if this grammar has a rule with the given
                  <tt>name</tt>.
                  </p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000010-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000010-source'>     <span class="ruby-comment cmt"># File lib/citrus.rb, line 113</span>&#x000A;113:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">has_rule?</span>(<span class="ruby-identifier">name</span>)&#x000A;114:       <span class="ruby-identifier">rules</span>.<span class="ruby-identifier">key?</span>(<span class="ruby-identifier">name</span>.<span class="ruby-identifier">to_sym</span>)&#x000A;115:     <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M000007'>
                <a name='M000007'></a>
                <div class='synopsis'>
                  <span class='name'>included_grammars</span>
                  <span class='arguments'>()</span>
                </div>
                <div class='description'>
                  <p>
                  Returns an array of all grammars that have been included in this grammar in
                  the reverse order they were included.
                  </p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000007-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000007-source'>    <span class="ruby-comment cmt"># File lib/citrus.rb, line 96</span>&#x000A;96:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">included_grammars</span>&#x000A;97:       <span class="ruby-identifier">included_modules</span>.<span class="ruby-identifier">select</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">mod</span><span class="ruby-operator">|</span> <span class="ruby-identifier">mod</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-constant">Grammar</span>) }&#x000A;98:     <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M000017'>
                <a name='M000017'></a>
                <div class='synopsis'>
                  <span class='name'>label</span>
                  <span class='arguments'>(rule, label, &amp;block)</span>
                </div>
                <div class='description'>
                  <p>
                  Creates a new <a href="Label.html">Label</a> using the given <tt>rule</tt>
                  and <tt>label</tt>. A block may be provided to specify semantic behavior
                  (via <a href="GrammarMethods.html#M000024">ext</a>).
                  </p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000017-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000017-source'>     <span class="ruby-comment cmt"># File lib/citrus.rb, line 195</span>&#x000A;195:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">label</span>(<span class="ruby-identifier">rule</span>, <span class="ruby-identifier">label</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)&#x000A;196:       <span class="ruby-identifier">ext</span>(<span class="ruby-constant">Label</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">label</span>, <span class="ruby-identifier">rule</span>), <span class="ruby-identifier">block</span>)&#x000A;197:     <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M000006'>
                <a name='M000006'></a>
                <div class='synopsis'>
                  <span class='name'>name</span>
                  <span class='arguments'>()</span>
                </div>
                <div class='description'>
                  <p>
                  Returns the name of this grammar as a string.
                  </p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000006-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000006-source'>    <span class="ruby-comment cmt"># File lib/citrus.rb, line 90</span>&#x000A;90:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">name</span>&#x000A;91:       <span class="ruby-keyword kw">super</span>.<span class="ruby-identifier">to_s</span>&#x000A;92:     <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M000016'>
                <a name='M000016'></a>
                <div class='synopsis'>
                  <span class='name'>notp</span>
                  <span class='arguments'>(rule, &amp;block)</span>
                </div>
                <div class='description'>
                  <p>
                  Creates a new <a href="NotPredicate.html">NotPredicate</a> using the given
                  <tt>rule</tt>. A block may be provided to specify semantic behavior (via <a
                  href="GrammarMethods.html#M000024">ext</a>).
                  </p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000016-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000016-source'>     <span class="ruby-comment cmt"># File lib/citrus.rb, line 189</span>&#x000A;189:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">notp</span>(<span class="ruby-identifier">rule</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)&#x000A;190:       <span class="ruby-identifier">ext</span>(<span class="ruby-constant">NotPredicate</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">rule</span>), <span class="ruby-identifier">block</span>)&#x000A;191:     <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M000019'>
                <a name='M000019'></a>
                <div class='synopsis'>
                  <span class='name'>one_or_more</span>
                  <span class='arguments'>(rule, &amp;block)</span>
                </div>
                <div class='description'>
                  <p>
                  An alias for <a href="GrammarMethods.html#M000018">rep</a>.
                  </p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000019-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000019-source'>     <span class="ruby-comment cmt"># File lib/citrus.rb, line 207</span>&#x000A;207:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">one_or_more</span>(<span class="ruby-identifier">rule</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)&#x000A;208:       <span class="ruby-identifier">rep</span>(<span class="ruby-identifier">rule</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)&#x000A;209:     <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M000025'>
                <a name='M000025'></a>
                <div class='synopsis'>
                  <span class='name'>parse</span>
                  <span class='arguments'>(string, options={})</span>
                </div>
                <div class='description'>
                  <p>
                  Parses the given input <tt>string</tt> using the given <tt>options</tt>. If
                  no match can be made, a <a href="ParseError.html">ParseError</a> is raised.
                  See <a href="GrammarMethods.html#M000026">default_parse_options</a> for a
                  detailed description of available parse options.
                  </p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000025-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000025-source'>     <span class="ruby-comment cmt"># File lib/citrus.rb, line 246</span>&#x000A;246:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">parse</span>(<span class="ruby-identifier">string</span>, <span class="ruby-identifier">options</span>={})&#x000A;247:       <span class="ruby-identifier">opts</span> = <span class="ruby-identifier">default_parse_options</span>.<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">options</span>)&#x000A;248: &#x000A;249:       <span class="ruby-identifier">raise</span> <span class="ruby-value str">&quot;No root rule specified&quot;</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">opts</span>[<span class="ruby-identifier">:root</span>]&#x000A;250: &#x000A;251:       <span class="ruby-identifier">root_rule</span> = <span class="ruby-identifier">rule</span>(<span class="ruby-identifier">opts</span>[<span class="ruby-identifier">:root</span>])&#x000A;252:       <span class="ruby-identifier">raise</span> <span class="ruby-node">&quot;No rule named \&quot;#{root}\&quot;&quot;</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">root_rule</span>&#x000A;253: &#x000A;254:       <span class="ruby-identifier">input</span> = <span class="ruby-constant">Input</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">string</span>, <span class="ruby-identifier">opts</span>[<span class="ruby-identifier">:enable_memo</span>])&#x000A;255:       <span class="ruby-identifier">match</span> = <span class="ruby-identifier">input</span>.<span class="ruby-identifier">match</span>(<span class="ruby-identifier">root_rule</span>, <span class="ruby-identifier">opts</span>[<span class="ruby-identifier">:offset</span>])&#x000A;256: &#x000A;257:       <span class="ruby-keyword kw">if</span> <span class="ruby-operator">!</span><span class="ruby-identifier">match</span> <span class="ruby-operator">||</span> (<span class="ruby-identifier">opts</span>[<span class="ruby-identifier">:consume_all</span>] <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">match</span>.<span class="ruby-identifier">length</span> <span class="ruby-operator">!=</span> <span class="ruby-identifier">string</span>.<span class="ruby-identifier">length</span>)&#x000A;258:         <span class="ruby-identifier">raise</span> <span class="ruby-constant">ParseError</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">input</span>)&#x000A;259:       <span class="ruby-keyword kw">end</span>&#x000A;260: &#x000A;261:       <span class="ruby-identifier">match</span>&#x000A;262:     <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M000018'>
                <a name='M000018'></a>
                <div class='synopsis'>
                  <span class='name'>rep</span>
                  <span class='arguments'>(rule, min=1, max=Infinity, &amp;block)</span>
                </div>
                <div class='description'>
                  <p>
                  Creates a new <a href="Repeat.html">Repeat</a> using the given
                  <tt>rule</tt>. <tt>min</tt> and <tt>max</tt> specify the minimum and
                  maximum number of times the rule must match. A block may be provided to
                  specify semantic behavior (via <a
                  href="GrammarMethods.html#M000024">ext</a>).
                  </p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000018-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000018-source'>     <span class="ruby-comment cmt"># File lib/citrus.rb, line 202</span>&#x000A;202:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">rep</span>(<span class="ruby-identifier">rule</span>, <span class="ruby-identifier">min</span>=<span class="ruby-value">1</span>, <span class="ruby-identifier">max</span>=<span class="ruby-constant">Infinity</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)&#x000A;203:       <span class="ruby-identifier">ext</span>(<span class="ruby-constant">Repeat</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">min</span>, <span class="ruby-identifier">max</span>, <span class="ruby-identifier">rule</span>), <span class="ruby-identifier">block</span>)&#x000A;204:     <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M000013'>
                <a name='M000013'></a>
                <div class='synopsis'>
                  <span class='name'>root</span>
                  <span class='arguments'>(name=nil)</span>
                </div>
                <div class='description'>
                  <p>
                  Gets/sets the <tt>name</tt> of the root rule of this grammar. If no root
                  rule is explicitly specified, the name of this grammar&#8217;s first rule
                  is returned.
                  </p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000013-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000013-source'>     <span class="ruby-comment cmt"># File lib/citrus.rb, line 169</span>&#x000A;169:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">root</span>(<span class="ruby-identifier">name</span>=<span class="ruby-keyword kw">nil</span>)&#x000A;170:       <span class="ruby-ivar">@root</span> = <span class="ruby-identifier">name</span>.<span class="ruby-identifier">to_sym</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">name</span>&#x000A;171:       <span class="ruby-comment cmt"># The first rule in a grammar is the default root.</span>&#x000A;172:       <span class="ruby-ivar">@root</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">rule_names</span>.<span class="ruby-identifier">first</span>&#x000A;173:     <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M000012'>
                <a name='M000012'></a>
                <div class='synopsis'>
                  <span class='name'>rule</span>
                  <span class='arguments'>(name, obj=nil)</span>
                </div>
                <div class='description'>
                  <p>
                  Gets/sets the rule with the given <tt>name</tt>. If <tt>obj</tt> is given
                  the rule will be set to the value of <tt>obj</tt> passed through <a
                  href="Rule.html#M000027">Rule#create</a>. If a block is given, its return
                  value will be used for the value of <tt>obj</tt>.
                  </p>
                  <p>
                  It is important to note that this method will also check any included
                  grammars for a rule with the given <tt>name</tt> if one cannot be found in
                  this grammar.
                  </p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000012-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000012-source'>     <span class="ruby-comment cmt"># File lib/citrus.rb, line 147</span>&#x000A;147:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">rule</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">obj</span>=<span class="ruby-keyword kw">nil</span>)&#x000A;148:       <span class="ruby-identifier">sym</span> = <span class="ruby-identifier">name</span>.<span class="ruby-identifier">to_sym</span>&#x000A;149:       <span class="ruby-identifier">obj</span> = <span class="ruby-constant">Proc</span>.<span class="ruby-identifier">new</span>.<span class="ruby-identifier">call</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">block_given?</span>&#x000A;150: &#x000A;151:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">obj</span>&#x000A;152:         <span class="ruby-identifier">rule_names</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">sym</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">has_rule?</span>(<span class="ruby-identifier">sym</span>)&#x000A;153: &#x000A;154:         <span class="ruby-identifier">rule</span> = <span class="ruby-constant">Rule</span>.<span class="ruby-identifier">create</span>(<span class="ruby-identifier">obj</span>)&#x000A;155:         <span class="ruby-identifier">rule</span>.<span class="ruby-identifier">name</span> = <span class="ruby-identifier">name</span>&#x000A;156:         <span class="ruby-identifier">setup_super</span>(<span class="ruby-identifier">rule</span>, <span class="ruby-identifier">name</span>)&#x000A;157:         <span class="ruby-identifier">rule</span>.<span class="ruby-identifier">grammar</span> = <span class="ruby-keyword kw">self</span>&#x000A;158: &#x000A;159:         <span class="ruby-identifier">rules</span>[<span class="ruby-identifier">sym</span>] = <span class="ruby-identifier">rule</span>&#x000A;160:       <span class="ruby-keyword kw">end</span>&#x000A;161: &#x000A;162:       <span class="ruby-identifier">rules</span>[<span class="ruby-identifier">sym</span>] <span class="ruby-operator">||</span> <span class="ruby-identifier">super_rule</span>(<span class="ruby-identifier">sym</span>)&#x000A;163:     <span class="ruby-keyword kw">rescue</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">e</span>&#x000A;164:       <span class="ruby-identifier">raise</span> <span class="ruby-node">&quot;Cannot create rule \&quot;#{name}\&quot;: &quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">e</span>.<span class="ruby-identifier">message</span>&#x000A;165:     <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M000008'>
                <a name='M000008'></a>
                <div class='synopsis'>
                  <span class='name'>rule_names</span>
                  <span class='arguments'>()</span>
                </div>
                <div class='description'>
                  <p>
                  Returns an array of all names of rules in this grammar as symbols ordered
                  in the same way they were defined (i.e. rules that were defined later
                  appear later in the array).
                  </p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000008-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000008-source'>     <span class="ruby-comment cmt"># File lib/citrus.rb, line 103</span>&#x000A;103:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">rule_names</span>&#x000A;104:       <span class="ruby-ivar">@rule_names</span> <span class="ruby-operator">||=</span> []&#x000A;105:     <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M000009'>
                <a name='M000009'></a>
                <div class='synopsis'>
                  <span class='name'>rules</span>
                  <span class='arguments'>()</span>
                </div>
                <div class='description'>
                  <p>
                  Returns a hash of all <a href="Rule.html">Rule</a> objects in this grammar,
                  keyed by rule name.
                  </p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000009-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000009-source'>     <span class="ruby-comment cmt"># File lib/citrus.rb, line 108</span>&#x000A;108:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">rules</span>&#x000A;109:       <span class="ruby-ivar">@rules</span> <span class="ruby-operator">||=</span> {}&#x000A;110:     <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M000014'>
                <a name='M000014'></a>
                <div class='synopsis'>
                  <span class='name'>sup</span>
                  <span class='arguments'>(&amp;block)</span>
                </div>
                <div class='description'>
                  <p>
                  Creates a new <a href="Super.html">Super</a> for the rule currently being
                  defined in the grammar. A block may be provided to specify semantic
                  behavior (via <a href="GrammarMethods.html#M000024">ext</a>).
                  </p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000014-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000014-source'>     <span class="ruby-comment cmt"># File lib/citrus.rb, line 177</span>&#x000A;177:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">sup</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)&#x000A;178:       <span class="ruby-identifier">ext</span>(<span class="ruby-constant">Super</span>.<span class="ruby-identifier">new</span>, <span class="ruby-identifier">block</span>)&#x000A;179:     <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M000011'>
                <a name='M000011'></a>
                <div class='synopsis'>
                  <span class='name'>super_rule</span>
                  <span class='arguments'>(name)</span>
                </div>
                <div class='description'>
                  <p>
                  Searches the inheritance hierarchy of this grammar for a rule named
                  <tt>name</tt> and returns it on success. Returns <tt>nil</tt> on failure.
                  </p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000011-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000011-source'>     <span class="ruby-comment cmt"># File lib/citrus.rb, line 131</span>&#x000A;131:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">super_rule</span>(<span class="ruby-identifier">name</span>)&#x000A;132:       <span class="ruby-identifier">sym</span> = <span class="ruby-identifier">name</span>.<span class="ruby-identifier">to_sym</span>&#x000A;133:       <span class="ruby-identifier">included_grammars</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">g</span><span class="ruby-operator">|</span>&#x000A;134:         <span class="ruby-identifier">r</span> = <span class="ruby-identifier">g</span>.<span class="ruby-identifier">rule</span>(<span class="ruby-identifier">sym</span>)&#x000A;135:         <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">r</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">r</span>&#x000A;136:       <span class="ruby-keyword kw">end</span>&#x000A;137:       <span class="ruby-keyword kw">nil</span>&#x000A;138:     <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M000020'>
                <a name='M000020'></a>
                <div class='synopsis'>
                  <span class='name'>zero_or_more</span>
                  <span class='arguments'>(rule, &amp;block)</span>
                </div>
                <div class='description'>
                  <p>
                  An alias for <a href="GrammarMethods.html#M000018">rep</a> with a minimum
                  of 0.
                  </p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000020-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000020-source'>     <span class="ruby-comment cmt"># File lib/citrus.rb, line 212</span>&#x000A;212:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">zero_or_more</span>(<span class="ruby-identifier">rule</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)&#x000A;213:       <span class="ruby-identifier">rep</span>(<span class="ruby-identifier">rule</span>, <span class="ruby-value">0</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)&#x000A;214:     <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M000021'>
                <a name='M000021'></a>
                <div class='synopsis'>
                  <span class='name'>zero_or_one</span>
                  <span class='arguments'>(rule, &amp;block)</span>
                </div>
                <div class='description'>
                  <p>
                  An alias for <a href="GrammarMethods.html#M000018">rep</a> with a minimum
                  of 0 and a maximum of 1.
                  </p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000021-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000021-source'>     <span class="ruby-comment cmt"># File lib/citrus.rb, line 217</span>&#x000A;217:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">zero_or_one</span>(<span class="ruby-identifier">rule</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)&#x000A;218:       <span class="ruby-identifier">rep</span>(<span class="ruby-identifier">rule</span>, <span class="ruby-value">0</span>, <span class="ruby-value">1</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)&#x000A;219:     <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div id='footer-push'></div>
    </div>
    <div id='footer'>
      <a href="http://github.com/mislav/hanna/tree/master"><strong>Hanna</strong> RDoc template</a>
    </div>
  </body>
</html>
