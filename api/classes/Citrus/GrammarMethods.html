<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang='en'>
  <head>
    <title>: Citrus::GrammarMethods [Citrus API Documentation]</title>
    <meta content='text/html; charset=utf8' http-equiv='Content-Type'>
    <link href='../../rdoc-style.css' media='screen' rel='stylesheet' type='text/css'>
    <script type='text/javascript'>
      //<![CDATA[
        function popupCode(url) {
          window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
        }
        
        function toggleCode(id) {
          var code = document.getElementById(id)
        
          code.style.display = code.style.display != 'block' ? 'block' : 'none'
          return true
        }
        
        // Make codeblocks hidden by default
        document.writeln('<' + 'style type="text/css">.method .source pre { display: none }<\/style>')
      //]]>
    </script>
  </head>
  <body class='page'>
    <div class='class' id='wrapper'>
      <div class='header'>
        <h1 class='name'>
          <span class='type'>Module</span>
          Citrus::GrammarMethods
        </h1>
        <ol class='paths'>
          <li>
            <a href="../../files/lib/citrus_rb.html">lib/citrus.rb</a>
          </li>
        </ol>
      </div>
      <div id='content'>
        <div id='text'>
          <div id='description'>
            <p>
            Contains methods that are available to <a href="Grammar.html">Grammar</a>
            modules at the class level.
            </p>
          </div>
          <div id='method-list'>
            <h2>Methods</h2>
            <h3>public class</h3>
            <ol>
              <li><a href="#M000008">extend_object</a></li>
            </ol>
            <h3>public instance</h3>
            <ol>
              <li><a href="#M000028">all</a></li>
              <li><a href="#M000019">andp</a></li>
              <li><a href="#M000029">any</a></li>
              <li><a href="#M000021">but</a></li>
              <li><a href="#M000022">butp</a></li>
              <li><a href="#M000032">default_parse_options</a></li>
              <li><a href="#M000017">dot</a></li>
              <li><a href="#M000030">ext</a></li>
              <li><a href="#M000013">has_rule?</a></li>
              <li><a href="#M000010">included_grammars</a></li>
              <li><a href="#M000023">label</a></li>
              <li><a href="#M000009">name</a></li>
              <li><a href="#M000020">notp</a></li>
              <li><a href="#M000025">one_or_more</a></li>
              <li><a href="#M000031">parse</a></li>
              <li><a href="#M000024">rep</a></li>
              <li><a href="#M000016">root</a></li>
              <li><a href="#M000015">rule</a></li>
              <li><a href="#M000011">rule_names</a></li>
              <li><a href="#M000012">rules</a></li>
              <li><a href="#M000018">sup</a></li>
              <li><a href="#M000014">super_rule</a></li>
              <li><a href="#M000026">zero_or_more</a></li>
              <li><a href="#M000027">zero_or_one</a></li>
            </ol>
          </div>
          <div id='section'>
            <div id='methods'>
              <h2>Public class methods</h2>
              <div class='method public-class' id='method-M000008'>
                <a name='M000008'></a>
                <div class='synopsis'>
                  <span class='name'>extend_object</span>
                  <span class='arguments'>(obj)</span>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000008-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000008-source'>     <span class="ruby-comment cmt"># File lib/citrus.rb, line 264</span>&#x000A;264:     <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">extend_object</span>(<span class="ruby-identifier">obj</span>)&#x000A;265:       <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>, <span class="ruby-value str">&quot;Grammars must be Modules&quot;</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-constant">Module</span> <span class="ruby-operator">===</span> <span class="ruby-identifier">obj</span>&#x000A;266:       <span class="ruby-keyword kw">super</span>&#x000A;267:     <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <h2>Public instance methods</h2>
              <div class='method public-instance' id='method-M000028'>
                <a name='M000028'></a>
                <div class='synopsis'>
                  <span class='name'>all</span>
                  <span class='arguments'>(*args, &amp;block)</span>
                </div>
                <div class='description'>
                  <p>
                  Creates a new <a href="Sequence.html">Sequence</a> using all arguments. A
                  block may be provided to specify semantic behavior (via <a
                  href="GrammarMethods.html#M000030">ext</a>).
                  </p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000028-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000028-source'>     <span class="ruby-comment cmt"># File lib/citrus.rb, line 417</span>&#x000A;417:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">all</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)&#x000A;418:       <span class="ruby-identifier">ext</span>(<span class="ruby-constant">Sequence</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">args</span>), <span class="ruby-identifier">block</span>)&#x000A;419:     <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M000019'>
                <a name='M000019'></a>
                <div class='synopsis'>
                  <span class='name'>andp</span>
                  <span class='arguments'>(rule, &amp;block)</span>
                </div>
                <div class='description'>
                  <p>
                  Creates a new <a href="AndPredicate.html">AndPredicate</a> using the given
                  <tt>rule</tt>. A block may be provided to specify semantic behavior (via <a
                  href="GrammarMethods.html#M000030">ext</a>).
                  </p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000019-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000019-source'>     <span class="ruby-comment cmt"># File lib/citrus.rb, line 369</span>&#x000A;369:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">andp</span>(<span class="ruby-identifier">rule</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)&#x000A;370:       <span class="ruby-identifier">ext</span>(<span class="ruby-constant">AndPredicate</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">rule</span>), <span class="ruby-identifier">block</span>)&#x000A;371:     <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M000029'>
                <a name='M000029'></a>
                <div class='synopsis'>
                  <span class='name'>any</span>
                  <span class='arguments'>(*args, &amp;block)</span>
                </div>
                <div class='description'>
                  <p>
                  Creates a new <a href="Choice.html">Choice</a> using all arguments. A block
                  may be provided to specify semantic behavior (via <a
                  href="GrammarMethods.html#M000030">ext</a>).
                  </p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000029-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000029-source'>     <span class="ruby-comment cmt"># File lib/citrus.rb, line 423</span>&#x000A;423:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">any</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)&#x000A;424:       <span class="ruby-identifier">ext</span>(<span class="ruby-constant">Choice</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">args</span>), <span class="ruby-identifier">block</span>)&#x000A;425:     <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M000021'>
                <a name='M000021'></a>
                <div class='synopsis'>
                  <span class='name'>but</span>
                  <span class='arguments'>(rule, &amp;block)</span>
                </div>
                <div class='description'>
                  <p>
                  Creates a new <a href="ButPredicate.html">ButPredicate</a> using the given
                  <tt>rule</tt>. A block may be provided to specify semantic behavior (via <a
                  href="GrammarMethods.html#M000030">ext</a>).
                  </p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000021-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000021-source'>     <span class="ruby-comment cmt"># File lib/citrus.rb, line 381</span>&#x000A;381:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">but</span>(<span class="ruby-identifier">rule</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)&#x000A;382:       <span class="ruby-identifier">ext</span>(<span class="ruby-constant">ButPredicate</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">rule</span>), <span class="ruby-identifier">block</span>)&#x000A;383:     <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M000022'>
                <a name='M000022'></a>
                <div class='synopsis'>
                  <span class='name'>butp</span>
                  <span class='arguments'>(rule, &amp;block)</span>
                </div>
                <div class='description'>
                  <p>
                  <a href="Alias.html">Alias</a> for <a
                  href="GrammarMethods.html#M000021">but</a>
                  </p>
                </div>
              </div>
              <div class='method public-instance' id='method-M000032'>
                <a name='M000032'></a>
                <div class='synopsis'>
                  <span class='name'>default_parse_options</span>
                  <span class='arguments'>()</span>
                </div>
                <div class='description'>
                  <p>
                  The default set of options that is used in <a
                  href="GrammarMethods.html#M000031">parse</a>. The options hash may have any
                  of the following keys:
                  </p>
                  <table>
                  <tr><td valign="top">offset:</td><td>The offset at which the parse should start. Defaults to 0.
                  
                  </td></tr>
                  <tr><td valign="top">root:</td><td>The name of the root rule to use for the parse. Defaults to the name
                  supplied by calling <a href="GrammarMethods.html#M000016">root</a>.
                  
                  </td></tr>
                  <tr><td valign="top">memoize:</td><td>If this is <tt>true</tt> the matches generated during a parse are memoized.
                  See <a href="Input.html#M000066">Input#memoize!</a> for more information.
                  Defaults to <tt>false</tt>.
                  
                  </td></tr>
                  <tr><td valign="top">consume:</td><td>If this is <tt>true</tt> a <a href="ParseError.html">ParseError</a> will be
                  raised during a parse unless the entire input string is consumed. Defaults
                  to <tt>false</tt>.
                  
                  </td></tr>
                  </table>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000032-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000032-source'>     <span class="ruby-comment cmt"># File lib/citrus.rb, line 471</span>&#x000A;471:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">default_parse_options</span>&#x000A;472:       { <span class="ruby-identifier">:offset</span>   =<span class="ruby-operator">&gt;</span> <span class="ruby-value">0</span>,&#x000A;473:         <span class="ruby-identifier">:root</span>     =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">root</span>,&#x000A;474:         <span class="ruby-identifier">:memoize</span>  =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">false</span>,&#x000A;475:         <span class="ruby-identifier">:consume</span>  =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">false</span>&#x000A;476:       }&#x000A;477:     <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M000017'>
                <a name='M000017'></a>
                <div class='synopsis'>
                  <span class='name'>dot</span>
                  <span class='arguments'>(&amp;block)</span>
                </div>
                <div class='description'>
                  <p>
                  Creates a new rule that will match any single character. A block may be
                  provided to specify semantic behavior (via <a
                  href="GrammarMethods.html#M000030">ext</a>).
                  </p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000017-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000017-source'>     <span class="ruby-comment cmt"># File lib/citrus.rb, line 357</span>&#x000A;357:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">dot</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)&#x000A;358:       <span class="ruby-identifier">ext</span>(<span class="ruby-constant">Rule</span>.<span class="ruby-identifier">new</span>(<span class="ruby-constant">DOT</span>), <span class="ruby-identifier">block</span>)&#x000A;359:     <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M000030'>
                <a name='M000030'></a>
                <div class='synopsis'>
                  <span class='name'>ext</span>
                  <span class='arguments'>(rule, mod=nil, &amp;block)</span>
                </div>
                <div class='description'>
                  <p>
                  Specifies a Module that will be used to extend all matches created with the
                  given <tt>rule</tt>. A block may also be given that will be used to create
                  an anonymous module. See Rule#ext=.
                  </p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000030-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000030-source'>     <span class="ruby-comment cmt"># File lib/citrus.rb, line 430</span>&#x000A;430:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">ext</span>(<span class="ruby-identifier">rule</span>, <span class="ruby-identifier">mod</span>=<span class="ruby-keyword kw">nil</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)&#x000A;431:       <span class="ruby-identifier">rule</span> = <span class="ruby-constant">Rule</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">rule</span>)&#x000A;432:       <span class="ruby-identifier">mod</span> = <span class="ruby-identifier">block</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">block</span>&#x000A;433:       <span class="ruby-identifier">rule</span>.<span class="ruby-identifier">extension</span> = <span class="ruby-identifier">mod</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">mod</span>&#x000A;434:       <span class="ruby-identifier">rule</span>&#x000A;435:     <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M000013'>
                <a name='M000013'></a>
                <div class='synopsis'>
                  <span class='name'>has_rule?</span>
                  <span class='arguments'>(name)</span>
                </div>
                <div class='description'>
                  <p>
                  Returns <tt>true</tt> if this grammar has a rule with the given
                  <tt>name</tt>.
                  </p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000013-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000013-source'>     <span class="ruby-comment cmt"># File lib/citrus.rb, line 293</span>&#x000A;293:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">has_rule?</span>(<span class="ruby-identifier">name</span>)&#x000A;294:       <span class="ruby-identifier">rules</span>.<span class="ruby-identifier">key?</span>(<span class="ruby-identifier">name</span>.<span class="ruby-identifier">to_sym</span>)&#x000A;295:     <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M000010'>
                <a name='M000010'></a>
                <div class='synopsis'>
                  <span class='name'>included_grammars</span>
                  <span class='arguments'>()</span>
                </div>
                <div class='description'>
                  <p>
                  Returns an array of all grammars that have been included in this grammar in
                  the reverse order they were included.
                  </p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000010-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000010-source'>     <span class="ruby-comment cmt"># File lib/citrus.rb, line 276</span>&#x000A;276:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">included_grammars</span>&#x000A;277:       <span class="ruby-identifier">included_modules</span>.<span class="ruby-identifier">select</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">mod</span><span class="ruby-operator">|</span> <span class="ruby-identifier">mod</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-constant">Grammar</span>) }&#x000A;278:     <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M000023'>
                <a name='M000023'></a>
                <div class='synopsis'>
                  <span class='name'>label</span>
                  <span class='arguments'>(rule, label, &amp;block)</span>
                </div>
                <div class='description'>
                  <p>
                  Creates a new <a href="Label.html">Label</a> using the given <tt>rule</tt>
                  and <tt>label</tt>. A block may be provided to specify semantic behavior
                  (via <a href="GrammarMethods.html#M000030">ext</a>).
                  </p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000023-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000023-source'>     <span class="ruby-comment cmt"># File lib/citrus.rb, line 389</span>&#x000A;389:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">label</span>(<span class="ruby-identifier">rule</span>, <span class="ruby-identifier">label</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)&#x000A;390:       <span class="ruby-identifier">ext</span>(<span class="ruby-constant">Label</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">rule</span>, <span class="ruby-identifier">label</span>), <span class="ruby-identifier">block</span>)&#x000A;391:     <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M000009'>
                <a name='M000009'></a>
                <div class='synopsis'>
                  <span class='name'>name</span>
                  <span class='arguments'>()</span>
                </div>
                <div class='description'>
                  <p>
                  Returns the name of this grammar as a string.
                  </p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000009-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000009-source'>     <span class="ruby-comment cmt"># File lib/citrus.rb, line 270</span>&#x000A;270:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">name</span>&#x000A;271:       <span class="ruby-keyword kw">super</span>.<span class="ruby-identifier">to_s</span>&#x000A;272:     <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M000020'>
                <a name='M000020'></a>
                <div class='synopsis'>
                  <span class='name'>notp</span>
                  <span class='arguments'>(rule, &amp;block)</span>
                </div>
                <div class='description'>
                  <p>
                  Creates a new <a href="NotPredicate.html">NotPredicate</a> using the given
                  <tt>rule</tt>. A block may be provided to specify semantic behavior (via <a
                  href="GrammarMethods.html#M000030">ext</a>).
                  </p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000020-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000020-source'>     <span class="ruby-comment cmt"># File lib/citrus.rb, line 375</span>&#x000A;375:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">notp</span>(<span class="ruby-identifier">rule</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)&#x000A;376:       <span class="ruby-identifier">ext</span>(<span class="ruby-constant">NotPredicate</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">rule</span>), <span class="ruby-identifier">block</span>)&#x000A;377:     <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M000025'>
                <a name='M000025'></a>
                <div class='synopsis'>
                  <span class='name'>one_or_more</span>
                  <span class='arguments'>(rule, &amp;block)</span>
                </div>
                <div class='description'>
                  <p>
                  An alias for <a href="GrammarMethods.html#M000024">rep</a>.
                  </p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000025-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000025-source'>     <span class="ruby-comment cmt"># File lib/citrus.rb, line 401</span>&#x000A;401:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">one_or_more</span>(<span class="ruby-identifier">rule</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)&#x000A;402:       <span class="ruby-identifier">rep</span>(<span class="ruby-identifier">rule</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)&#x000A;403:     <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M000031'>
                <a name='M000031'></a>
                <div class='synopsis'>
                  <span class='name'>parse</span>
                  <span class='arguments'>(string, options={})</span>
                </div>
                <div class='description'>
                  <p>
                  Parses the given input <tt>string</tt> using the given <tt>options</tt>. If
                  no match can be made, a <a href="ParseError.html">ParseError</a> is raised.
                  See <a href="GrammarMethods.html#M000032">default_parse_options</a> for a
                  detailed description of available parse options.
                  </p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000031-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000031-source'>     <span class="ruby-comment cmt"># File lib/citrus.rb, line 440</span>&#x000A;440:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">parse</span>(<span class="ruby-identifier">string</span>, <span class="ruby-identifier">options</span>={})&#x000A;441:       <span class="ruby-identifier">opts</span> = <span class="ruby-identifier">default_parse_options</span>.<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">options</span>)&#x000A;442:       <span class="ruby-identifier">raise</span> <span class="ruby-value str">'No root rule specified'</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">opts</span>[<span class="ruby-identifier">:root</span>]&#x000A;443: &#x000A;444:       <span class="ruby-identifier">root_rule</span> = <span class="ruby-identifier">rule</span>(<span class="ruby-identifier">opts</span>[<span class="ruby-identifier">:root</span>])&#x000A;445:       <span class="ruby-identifier">raise</span> <span class="ruby-value str">'No rule named &quot;%s&quot;'</span> <span class="ruby-operator">%</span> <span class="ruby-identifier">root</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">root_rule</span>&#x000A;446: &#x000A;447:       <span class="ruby-identifier">input</span> = <span class="ruby-constant">Input</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">string</span>)&#x000A;448:       <span class="ruby-identifier">input</span>.<span class="ruby-identifier">memoize!</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">opts</span>[<span class="ruby-identifier">:memoize</span>]&#x000A;449:       <span class="ruby-identifier">input</span>.<span class="ruby-identifier">pos</span> = <span class="ruby-identifier">opts</span>[<span class="ruby-identifier">:offset</span>] <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">opts</span>[<span class="ruby-identifier">:offset</span>] <span class="ruby-operator">&gt;</span> <span class="ruby-value">0</span>&#x000A;450: &#x000A;451:       <span class="ruby-identifier">match</span> = <span class="ruby-identifier">input</span>.<span class="ruby-identifier">match</span>(<span class="ruby-identifier">root_rule</span>)&#x000A;452:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">match</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-operator">||</span> (<span class="ruby-identifier">opts</span>[<span class="ruby-identifier">:consume</span>] <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">input</span>.<span class="ruby-identifier">length</span> <span class="ruby-operator">!=</span> <span class="ruby-identifier">match</span>.<span class="ruby-identifier">length</span>)&#x000A;453:         <span class="ruby-identifier">raise</span> <span class="ruby-constant">ParseError</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">input</span>)&#x000A;454:       <span class="ruby-keyword kw">end</span>&#x000A;455: &#x000A;456:       <span class="ruby-identifier">match</span>&#x000A;457:     <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M000024'>
                <a name='M000024'></a>
                <div class='synopsis'>
                  <span class='name'>rep</span>
                  <span class='arguments'>(rule, min=1, max=Infinity, &amp;block)</span>
                </div>
                <div class='description'>
                  <p>
                  Creates a new <a href="Repeat.html">Repeat</a> using the given
                  <tt>rule</tt>. <tt>min</tt> and <tt>max</tt> specify the minimum and
                  maximum number of times the rule must match. A block may be provided to
                  specify semantic behavior (via <a
                  href="GrammarMethods.html#M000030">ext</a>).
                  </p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000024-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000024-source'>     <span class="ruby-comment cmt"># File lib/citrus.rb, line 396</span>&#x000A;396:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">rep</span>(<span class="ruby-identifier">rule</span>, <span class="ruby-identifier">min</span>=<span class="ruby-value">1</span>, <span class="ruby-identifier">max</span>=<span class="ruby-constant">Infinity</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)&#x000A;397:       <span class="ruby-identifier">ext</span>(<span class="ruby-constant">Repeat</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">rule</span>, <span class="ruby-identifier">min</span>, <span class="ruby-identifier">max</span>), <span class="ruby-identifier">block</span>)&#x000A;398:     <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M000016'>
                <a name='M000016'></a>
                <div class='synopsis'>
                  <span class='name'>root</span>
                  <span class='arguments'>(name=nil)</span>
                </div>
                <div class='description'>
                  <p>
                  Gets/sets the <tt>name</tt> of the root rule of this grammar. If no root
                  rule is explicitly specified, the name of this grammar&#8217;s first rule
                  is returned.
                  </p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000016-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000016-source'>     <span class="ruby-comment cmt"># File lib/citrus.rb, line 349</span>&#x000A;349:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">root</span>(<span class="ruby-identifier">name</span>=<span class="ruby-keyword kw">nil</span>)&#x000A;350:       <span class="ruby-ivar">@root</span> = <span class="ruby-identifier">name</span>.<span class="ruby-identifier">to_sym</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">name</span>&#x000A;351:       <span class="ruby-comment cmt"># The first rule in a grammar is the default root.</span>&#x000A;352:       <span class="ruby-ivar">@root</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">rule_names</span>.<span class="ruby-identifier">first</span>&#x000A;353:     <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M000015'>
                <a name='M000015'></a>
                <div class='synopsis'>
                  <span class='name'>rule</span>
                  <span class='arguments'>(name, obj=nil, &amp;block)</span>
                </div>
                <div class='description'>
                  <p>
                  Gets/sets the rule with the given <tt>name</tt>. If <tt>obj</tt> is given
                  the rule will be set to the value of <tt>obj</tt> passed through <a
                  href="Rule.html#M000034">Rule#new</a>. If a block is given, its return
                  value will be used for the value of <tt>obj</tt>.
                  </p>
                  <p>
                  It is important to note that this method will also check any included
                  grammars for a rule with the given <tt>name</tt> if one cannot be found in
                  this grammar.
                  </p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000015-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000015-source'>     <span class="ruby-comment cmt"># File lib/citrus.rb, line 327</span>&#x000A;327:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">rule</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">obj</span>=<span class="ruby-keyword kw">nil</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)&#x000A;328:       <span class="ruby-identifier">sym</span> = <span class="ruby-identifier">name</span>.<span class="ruby-identifier">to_sym</span>&#x000A;329:       <span class="ruby-identifier">obj</span> = <span class="ruby-identifier">block</span>.<span class="ruby-identifier">call</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">block</span>&#x000A;330: &#x000A;331:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">obj</span>&#x000A;332:         <span class="ruby-identifier">rule_names</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">sym</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">has_rule?</span>(<span class="ruby-identifier">sym</span>)&#x000A;333: &#x000A;334:         <span class="ruby-identifier">rule</span> = <span class="ruby-constant">Rule</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">obj</span>)&#x000A;335:         <span class="ruby-identifier">rule</span>.<span class="ruby-identifier">name</span> = <span class="ruby-identifier">name</span>&#x000A;336:         <span class="ruby-identifier">setup_super</span>(<span class="ruby-identifier">rule</span>, <span class="ruby-identifier">name</span>)&#x000A;337:         <span class="ruby-identifier">rule</span>.<span class="ruby-identifier">grammar</span> = <span class="ruby-keyword kw">self</span>&#x000A;338: &#x000A;339:         <span class="ruby-identifier">rules</span>[<span class="ruby-identifier">sym</span>] = <span class="ruby-identifier">rule</span>&#x000A;340:       <span class="ruby-keyword kw">end</span>&#x000A;341: &#x000A;342:       <span class="ruby-identifier">rules</span>[<span class="ruby-identifier">sym</span>] <span class="ruby-operator">||</span> <span class="ruby-identifier">super_rule</span>(<span class="ruby-identifier">sym</span>)&#x000A;343:     <span class="ruby-keyword kw">rescue</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">e</span>&#x000A;344:       <span class="ruby-identifier">raise</span> <span class="ruby-value str">'Cannot create rule &quot;%s&quot;: %s'</span> <span class="ruby-operator">%</span> [<span class="ruby-identifier">name</span>, <span class="ruby-identifier">e</span>.<span class="ruby-identifier">message</span>]&#x000A;345:     <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M000011'>
                <a name='M000011'></a>
                <div class='synopsis'>
                  <span class='name'>rule_names</span>
                  <span class='arguments'>()</span>
                </div>
                <div class='description'>
                  <p>
                  Returns an array of all names of rules in this grammar as symbols ordered
                  in the same way they were defined (i.e. rules that were defined later
                  appear later in the array).
                  </p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000011-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000011-source'>     <span class="ruby-comment cmt"># File lib/citrus.rb, line 283</span>&#x000A;283:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">rule_names</span>&#x000A;284:       <span class="ruby-ivar">@rule_names</span> <span class="ruby-operator">||=</span> []&#x000A;285:     <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M000012'>
                <a name='M000012'></a>
                <div class='synopsis'>
                  <span class='name'>rules</span>
                  <span class='arguments'>()</span>
                </div>
                <div class='description'>
                  <p>
                  Returns a hash of all <a href="Rule.html">Rule</a> objects in this grammar,
                  keyed by rule name.
                  </p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000012-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000012-source'>     <span class="ruby-comment cmt"># File lib/citrus.rb, line 288</span>&#x000A;288:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">rules</span>&#x000A;289:       <span class="ruby-ivar">@rules</span> <span class="ruby-operator">||=</span> {}&#x000A;290:     <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M000018'>
                <a name='M000018'></a>
                <div class='synopsis'>
                  <span class='name'>sup</span>
                  <span class='arguments'>(&amp;block)</span>
                </div>
                <div class='description'>
                  <p>
                  Creates a new <a href="Super.html">Super</a> for the rule currently being
                  defined in the grammar. A block may be provided to specify semantic
                  behavior (via <a href="GrammarMethods.html#M000030">ext</a>).
                  </p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000018-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000018-source'>     <span class="ruby-comment cmt"># File lib/citrus.rb, line 363</span>&#x000A;363:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">sup</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)&#x000A;364:       <span class="ruby-identifier">ext</span>(<span class="ruby-constant">Super</span>.<span class="ruby-identifier">new</span>, <span class="ruby-identifier">block</span>)&#x000A;365:     <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M000014'>
                <a name='M000014'></a>
                <div class='synopsis'>
                  <span class='name'>super_rule</span>
                  <span class='arguments'>(name)</span>
                </div>
                <div class='description'>
                  <p>
                  Searches the inheritance hierarchy of this grammar for a rule named
                  <tt>name</tt> and returns it on success. Returns <tt>nil</tt> on failure.
                  </p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000014-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000014-source'>     <span class="ruby-comment cmt"># File lib/citrus.rb, line 311</span>&#x000A;311:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">super_rule</span>(<span class="ruby-identifier">name</span>)&#x000A;312:       <span class="ruby-identifier">sym</span> = <span class="ruby-identifier">name</span>.<span class="ruby-identifier">to_sym</span>&#x000A;313:       <span class="ruby-identifier">included_grammars</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">g</span><span class="ruby-operator">|</span>&#x000A;314:         <span class="ruby-identifier">r</span> = <span class="ruby-identifier">g</span>.<span class="ruby-identifier">rule</span>(<span class="ruby-identifier">sym</span>)&#x000A;315:         <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">r</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">r</span>&#x000A;316:       <span class="ruby-keyword kw">end</span>&#x000A;317:       <span class="ruby-keyword kw">nil</span>&#x000A;318:     <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M000026'>
                <a name='M000026'></a>
                <div class='synopsis'>
                  <span class='name'>zero_or_more</span>
                  <span class='arguments'>(rule, &amp;block)</span>
                </div>
                <div class='description'>
                  <p>
                  An alias for <a href="GrammarMethods.html#M000024">rep</a> with a minimum
                  of 0.
                  </p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000026-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000026-source'>     <span class="ruby-comment cmt"># File lib/citrus.rb, line 406</span>&#x000A;406:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">zero_or_more</span>(<span class="ruby-identifier">rule</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)&#x000A;407:       <span class="ruby-identifier">rep</span>(<span class="ruby-identifier">rule</span>, <span class="ruby-value">0</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)&#x000A;408:     <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M000027'>
                <a name='M000027'></a>
                <div class='synopsis'>
                  <span class='name'>zero_or_one</span>
                  <span class='arguments'>(rule, &amp;block)</span>
                </div>
                <div class='description'>
                  <p>
                  An alias for <a href="GrammarMethods.html#M000024">rep</a> with a minimum
                  of 0 and a maximum of 1.
                  </p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000027-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000027-source'>     <span class="ruby-comment cmt"># File lib/citrus.rb, line 411</span>&#x000A;411:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">zero_or_one</span>(<span class="ruby-identifier">rule</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)&#x000A;412:       <span class="ruby-identifier">rep</span>(<span class="ruby-identifier">rule</span>, <span class="ruby-value">0</span>, <span class="ruby-value">1</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)&#x000A;413:     <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div id='footer-push'></div>
    </div>
    <div id='footer'>
      <a href="http://github.com/mislav/hanna/tree/master"><strong>Hanna</strong> RDoc template</a>
    </div>
  </body>
</html>
